# 实现计划

- [ ] 1. 项目初始化与基础配置
  - [ ] 1.1 创建Next.js 14项目并配置Tailwind CSS
    - 使用create-next-app创建项目，选择App Router、TypeScript、Tailwind CSS
    - 配置tailwind.config.ts，添加品牌色（#81C3D7、#416788、#5a6d7c、#2f6690）
    - 配置响应式断点和自定义字体大小
    - _需求: 1.1, 1.2, 1.3, 1.4_
  - [ ] 1.2 配置国际化（i18n）基础设施
    - 安装并配置next-intl
    - 创建locales/zh.json和locales/en.json语言文件
    - 配置[locale]动态路由
    - 实现语言检测和默认语言逻辑
    - _需求: 2.1, 2.5, 2.6_
  - [ ] 1.3 编写属性测试：语言偏好持久化往返
    - **属性 2: 语言偏好持久化往返**
    - **验证: 需求 2.4**
  - [ ] 1.4 配置测试环境
    - 安装Vitest和fast-check
    - 配置vitest.config.ts
    - 创建测试setup文件
    - _需求: 设计文档测试策略_

- [ ] 2. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。

- [ ] 3. 布局组件开发
  - [ ] 3.1 实现固定导航栏组件（Navbar）
    - 创建components/layout/Navbar.tsx
    - 实现Logo和导航链接（首页、关于我们、特色、服务流程、常见问题、联系我们、博客）
    - 实现sticky定位和滚动时的样式变化
    - 实现当前区块高亮指示（Intersection Observer）
    - _需求: 5.1, 5.2, 3.3, 3.4_
  - [ ] 3.2 实现响应式汉堡菜单
    - 在视口宽度<768px时显示汉堡菜单按钮
    - 实现菜单展开/折叠动画
    - 实现键盘导航和焦点管理
    - _需求: 5.4, 5.5, 5.6_
  - [ ] 3.3 编写属性测试：响应式汉堡菜单
    - **属性 6: 响应式汉堡菜单**
    - **验证: 需求 5.4**
  - [ ] 3.4 实现语言切换组件（LanguageSwitcher）
    - 创建components/layout/LanguageSwitcher.tsx
    - 实现中英文切换按钮
    - 实现语言偏好存储到localStorage
    - 切换时保持滚动位置不变
    - _需求: 5.3, 2.2, 2.3, 2.4_
  - [ ] 3.5 编写属性测试：语言切换一致性和滚动位置保持
    - **属性 1: 语言切换一致性**
    - **属性 3: 滚动位置保持**
    - **验证: 需求 2.2, 2.3**
  - [ ] 3.6 实现页脚组件（Footer）
    - 创建components/layout/Footer.tsx
    - 展示公司信息、快捷链接、工作时间、版权信息
    - 实现快捷链接平滑滚动
    - _需求: 13.1, 13.2, 13.3, 13.4, 13.5_
  - [ ] 3.7 编写属性测试：页脚链接滚动
    - **属性 13: 页脚链接滚动**
    - **验证: 需求 13.5**
  - [ ] 3.8 实现根布局（RootLayout）
    - 创建app/[locale]/layout.tsx
    - 集成Navbar和Footer
    - 配置全局样式和字体
    - 添加viewport meta标签
    - _需求: 4.1, 4.2, 4.3, 14.4_

- [ ] 4. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。

- [ ] 5. 首页区块组件开发
  - [ ] 5.1 实现首页Banner区块（HeroBanner）
    - 创建components/sections/HeroBanner.tsx
    - 实现全屏高度（100vh/100svh）
    - 展示主标语、描述文字、统计数据
    - 实现"获取报价"CTA按钮，点击滚动到联系区块
    - 添加向下滚动视觉提示动画
    - _需求: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7_
  - [ ] 5.2 编写属性测试：导航锚点滚动
    - **属性 4: 导航锚点滚动**
    - **验证: 需求 3.2, 3.5**
  - [ ] 5.3 实现关于我们区块（AboutUs）
    - 创建components/sections/AboutUs.tsx
    - 展示使命、愿景、六大核心价值观
    - 展示公司历史和合作品牌
    - 添加Organization JSON-LD结构化数据
    - _需求: 7.1, 7.2, 7.3, 7.4, 7.5, 7.6_
  - [ ] 5.4 实现特色区块（Features）
    - 创建components/sections/Features.tsx
    - 展示Jay个人介绍
    - 展示四大核心优势（使用品牌色）
    - 展示定制选项介绍
    - 添加"立即定制"CTA按钮
    - _需求: 8.1, 8.2, 8.3, 8.4, 8.5_
  - [ ] 5.5 实现服务流程区块（Services）
    - 创建components/sections/Services.tsx
    - 以步骤形式展示六个服务阶段
    - 实现响应式布局（移动端纵向、桌面端横向）
    - _需求: 9.1, 9.2, 9.3, 9.4_
  - [ ] 5.6 实现FAQ区块（FAQ）
    - 创建components/sections/FAQ.tsx和components/ui/Accordion.tsx
    - 实现分类组织的手风琴FAQ
    - 点击问题展开答案，折叠其他答案
    - 添加FAQPage JSON-LD结构化数据
    - _需求: 10.1, 10.2, 10.3, 10.4, 10.5_
  - [ ] 5.7 编写属性测试：FAQ手风琴交互
    - **属性 9: FAQ手风琴交互**
    - **验证: 需求 10.2, 10.3**

- [ ] 6. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。

- [ ] 7. 联系表单与API开发
  - [ ] 7.1 创建表单验证Schema
    - 创建lib/validations.ts
    - 使用Zod定义ContactFormData验证规则
    - 定义必填字段和可选字段验证
    - _需求: 11.2, 11.3, 11.4, 11.5, 11.6, 11.7_
  - [ ] 7.2 编写属性测试：表单验证完整性
    - **属性 10: 表单验证完整性**
    - **验证: 需求 11.10**
  - [ ] 7.3 实现联系我们区块（Contact）
    - 创建components/sections/Contact.tsx
    - 展示公司联系信息（地址、电话、邮箱、WhatsApp）
    - 实现完整询价表单（所有字段）
    - 集成mCaptcha人机验证
    - 实现文件上传功能
    - _需求: 11.1, 11.2, 11.3, 11.4, 11.5, 11.6, 11.7, 11.8, 11.11_
  - [ ] 7.4 实现表单提交API
    - 创建app/api/contact/route.ts
    - 验证表单数据和mCaptcha token
    - 处理文件上传
    - 发送通知邮件给管理员
    - 返回成功/失败响应
    - _需求: 11.9, 11.10_
  - [ ] 7.5 编写属性测试：表单提交成功处理
    - **属性 11: 表单提交成功处理**
    - **验证: 需求 11.9**

- [ ] 8. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。

- [ ] 9. 博客功能开发
  - [ ] 9.1 实现博客预览区块（BlogPreview）
    - 创建components/sections/Blog.tsx
    - 展示博客文章卡片列表
    - 卡片包含标题、摘要、日期、缩略图
    - _需求: 12.1, 12.2, 12.4_
  - [ ] 9.2 实现博客列表页
    - 创建app/[locale]/blog/page.tsx
    - 展示所有博客文章
    - 支持中英文内容切换
    - _需求: 12.4_
  - [ ] 9.3 实现博客详情页
    - 创建app/[locale]/blog/[slug]/page.tsx
    - 展示文章完整内容
    - 添加返回列表链接
    - _需求: 12.3_

- [ ] 10. 首页整合与平滑滚动
  - [ ] 10.1 整合首页所有区块
    - 创建app/[locale]/page.tsx
    - 按顺序整合所有区块组件
    - 为每个区块添加正确的id锚点
    - _需求: 3.1_
  - [ ] 10.2 实现平滑滚动功能
    - 配置CSS scroll-behavior: smooth
    - 实现导航链接点击平滑滚动
    - 处理URL锚点自动滚动
    - _需求: 3.2, 3.5_
  - [ ] 10.3 编写属性测试：导航激活状态同步
    - **属性 5: 导航激活状态同步**
    - **验证: 需求 3.3**

- [ ] 11. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。

- [ ] 12. 响应式与自适应优化
  - [ ] 12.1 实现自适应字体大小
    - 使用clamp()函数配置标题字体
    - 确保正文字体在14px-18px范围内
    - 配置响应式间距和尺寸
    - _需求: 4.1, 4.2, 4.4_
  - [ ] 12.2 编写属性测试：字体大小响应式范围
    - **属性 7: 字体大小响应式范围**
    - **验证: 需求 4.2**
  - [ ] 12.3 优化图片响应式加载
    - 配置Next.js Image组件
    - 实现srcset和sizes属性
    - 确保图片保持宽高比
    - _需求: 4.5, 15.1, 15.2, 15.3_
  - [ ] 12.4 编写属性测试：图片宽高比保持
    - **属性 8: 图片宽高比保持**
    - **验证: 需求 4.5**

- [ ] 13. SEO与元数据优化
  - [ ] 13.1 配置页面元数据
    - 为每个页面配置title和description
    - 添加Open Graph元标签
    - 添加hreflang标签
    - _需求: 14.1, 14.2, 14.3, 14.8_
  - [ ] 13.2 确保语义化HTML结构
    - 检查并优化HTML5语义标签使用
    - 确保每个页面只有一个h1
    - _需求: 14.4, 14.5_
  - [ ] 13.3 生成XML站点地图
    - 配置next-sitemap或手动生成sitemap.xml
    - 列出所有公开页面
    - _需求: 14.6, 14.7_

- [ ] 14. 无障碍优化
  - [ ] 14.1 添加图片alt文本
    - 为所有非装饰性图片添加描述性alt文本
    - _需求: 16.1_
  - [ ] 14.2 检查颜色对比度
    - 确保文本与背景对比度符合WCAG AA标准
    - _需求: 16.2_
  - [ ] 14.3 实现键盘导航支持
    - 确保所有交互元素可通过Tab键访问
    - 添加可见焦点指示器
    - _需求: 16.3, 16.6_
  - [ ] 14.4 编写属性测试：键盘焦点可见性
    - **属性 12: 键盘焦点可见性**
    - **验证: 需求 5.5, 16.3**
  - [ ] 14.5 添加表单标签关联
    - 确保所有表单字段有关联的label
    - 添加必要的ARIA属性
    - _需求: 16.4, 16.5_

- [ ] 15. 性能优化
  - [ ] 15.1 配置资源压缩
    - 确保CSS和JS文件压缩
    - 配置Tailwind tree-shaking
    - _需求: 15.4, 15.5_
  - [ ] 15.2 优化脚本加载
    - 对非关键脚本使用defer/async
    - _需求: 15.6_

- [ ] 16. 最终检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。
